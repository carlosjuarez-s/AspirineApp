{"ast":null,"code":"var _jsxFileName = \"D:\\\\Cursos\\\\Global Learning\\\\Proyecto Final\\\\aspirineapp\\\\src\\\\components\\\\Pages\\\\RecordShift\\\\RecordShift.js\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport TextField from '@mui/material/TextField';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport DatePicker from '@mui/lab/DatePicker';\nimport Stack from '@mui/material/Stack';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport './RecordShift.css';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport Button from '@mui/material/Button';\nimport axios from 'axios';\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst shiftURL = 'http://localhost:8080/api/shift';\nconst doctorURL = 'http://localhost:8080/api/doctor';\n\nconst RecordShift = () => {\n  _s();\n\n  const [value, setValue] = useState(new Date());\n  const [doctorName, setDoctorName] = useState('');\n  const [shift, setShift] = useState([]);\n  const [hour, setHour] = useState('');\n  const [doctor, setDoctor] = useState([]);\n\n  const getDoctor = async () => {\n    await axios.get(doctorURL).then(response => {\n      setDoctor(response.data);\n    });\n  };\n\n  useEffect(() => getDoctor(), []);\n\n  const handleChange = event => {\n    setDoctorName(event.target.value);\n  };\n\n  const getShift = async () => {\n    await axios.get(shiftURL).then(response => {\n      setShift(response.data);\n    });\n  };\n\n  useEffect(() => {\n    getShift();\n  }, [shift]);\n\n  const fullDate = value => {\n    let formatDate = value.getDate() + \"/\" + (value.getMonth() + 1) + \"/\" + value.getFullYear();\n    return formatDate;\n  };\n\n  const handleOnSubmit = async event => {\n    event.preventDefault();\n    const token = JSON.parse(sessionStorage.getItem(\"token\")); //Asignacion\n\n    await axios.post(shiftURL, {\n      doctor: doctorName,\n      hour: hour,\n      date: fullDate(value),\n      taken: false\n    }).then(response => console.log(response.data)).catch(error => console.log(error.response.data));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Calendar\",\n      children: /*#__PURE__*/_jsxDEV(LocalizationProvider, {\n        dateAdapter: AdapterDateFns,\n        children: /*#__PURE__*/_jsxDEV(Stack, {\n          spacing: 3,\n          children: /*#__PURE__*/_jsxDEV(DatePicker, {\n            views: ['day'],\n            label: \"Date\",\n            value: value,\n            onChange: e => {\n              setValue(e);\n            },\n            renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n              helperText: null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 12\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Table\",\n      children: /*#__PURE__*/_jsxDEV(TableContainer, {\n        component: Paper,\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          sx: {\n            minWidth: 650\n          },\n          \"aria-label\": \"simple table\",\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Doctor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: \"Hour\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: shift.map(element => /*#__PURE__*/_jsxDEV(TableRow, {\n              sx: {\n                '&:last-child td, &:last-child th': {\n                  border: 0\n                }\n              },\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                children: element.doctor\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: element.hour\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: element.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 15\n              }, this)]\n            }, element.doctor, true, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 13\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"newTurn\",\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        value: hour,\n        onChange: e => setHour(e.target.value),\n        id: \"time\",\n        label: \"Choose Schedule\",\n        type: \"time\",\n        defaultValue: \"12:00\",\n        InputLabelProps: {\n          shrink: true\n        },\n        inputProps: {\n          step: 1800 // 5 min\n\n        },\n        sx: {\n          left: 22,\n          width: 130,\n          mt: 3\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        variant: \"standard\",\n        sx: {\n          m: 3,\n          minWidth: 130\n        },\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          id: \"demo-simple-select-standard-label\",\n          children: \"Doctor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          labelId: \"demo-simple-select-standard-label\",\n          id: \"demo-simple-select-standard\",\n          value: doctorName,\n          onChange: handleChange,\n          label: \"Age\",\n          children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n            value: \"\",\n            children: /*#__PURE__*/_jsxDEV(\"em\", {\n              children: \"None\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 11\n          }, this), doctor.map(doctorName => /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: doctorName.firstName,\n            onChange: e => setDoctorName(e.target.value),\n            children: doctorName.firstName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 37\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          spacing: 2,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: handleOnSubmit,\n            children: \"Generate Shift\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n\n_s(RecordShift, \"4xLzVRuV6YVygrzvcrI35eWf9lo=\");\n\n_c = RecordShift;\nexport default RecordShift;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecordShift\");","map":{"version":3,"sources":["D:/Cursos/Global Learning/Proyecto Final/aspirineapp/src/components/Pages/RecordShift/RecordShift.js"],"names":["React","TextField","AdapterDateFns","LocalizationProvider","DatePicker","Stack","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","InputLabel","MenuItem","FormControl","Select","Button","axios","useState","useEffect","shiftURL","doctorURL","RecordShift","value","setValue","Date","doctorName","setDoctorName","shift","setShift","hour","setHour","doctor","setDoctor","getDoctor","get","then","response","data","handleChange","event","target","getShift","fullDate","formatDate","getDate","getMonth","getFullYear","handleOnSubmit","preventDefault","token","JSON","parse","sessionStorage","getItem","post","date","taken","console","log","catch","error","e","params","minWidth","map","element","border","shrink","step","left","width","mt","m","firstName"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport TextField from '@mui/material/TextField';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport Stack from '@mui/material/Stack';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\nimport './RecordShift.css'\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Select from '@mui/material/Select';\r\nimport Button from '@mui/material/Button';\r\nimport axios from 'axios';\r\nimport { useState, useEffect } from 'react';\r\n\r\n\r\nconst shiftURL = 'http://localhost:8080/api/shift';\r\nconst doctorURL = 'http://localhost:8080/api/doctor';\r\n\r\nconst RecordShift = () => {\r\n  const [value, setValue] = useState(new Date());\r\n  const [doctorName, setDoctorName] = useState('');\r\n  const [shift, setShift] = useState([]);\r\n  const [hour, setHour] = useState('');\r\n  const [doctor, setDoctor] = useState([]);\r\n  \r\n  const getDoctor = async() =>{\r\n    await axios.get(doctorURL)\r\n    .then(response =>  {\r\n      setDoctor(response.data)\r\n    })\r\n  }\r\n\r\n  useEffect(() =>\r\n  getDoctor()\r\n  , [])\r\n\r\n\r\n  const handleChange = (event) => {\r\n    setDoctorName(event.target.value);\r\n  }\r\n\r\n  const getShift = async () => {\r\n    await axios.get(shiftURL)\r\n    .then(response => {\r\n    setShift(response.data)\r\n    })\r\n  }\r\n  \r\n  useEffect(() => {\r\n    getShift();\r\n  }, [shift])\r\n\r\n  const fullDate=(value)=>{\r\n    let formatDate= value.getDate()+\"/\"+(value.getMonth()+1)+\"/\"+ value.getFullYear()\r\n    return formatDate;\r\n  }\r\n\r\n  const handleOnSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const token = JSON.parse(sessionStorage.getItem(\"token\"));\r\n  \r\n    //Asignacion\r\n    await axios.post(shiftURL,{\r\n      doctor: doctorName,\r\n      hour: hour,\r\n      date: fullDate(value),\r\n      taken: false,\r\n      })\r\n    .then(response => console.log(response.data)) \r\n    .catch(error => console.log(error.response.data))\r\n  }\r\n\r\n  return ( \r\n    <div>\r\n      <div className='Calendar'>\r\n        <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n          <Stack spacing={3}>\r\n           <DatePicker\r\n            views={['day']}\r\n            label=\"Date\"\r\n            value={value}\r\n           onChange={(e) => {\r\n            setValue(e);\r\n          }}\r\n            renderInput={(params) => <TextField {...params} helperText={null} />}\r\n          />\r\n          </Stack>\r\n        </LocalizationProvider>\r\n      </div>\r\n      \r\n      <div className='Table'>\r\n        <TableContainer component={Paper}>\r\n          <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Doctor</TableCell>\r\n                <TableCell align=\"right\">Hour</TableCell>\r\n                <TableCell align=\"right\">Date</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n          <TableBody>\r\n            {shift.map((element) => (\r\n            <TableRow\r\n              key={element.doctor}\r\n              sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n            >\r\n              <TableCell align=\"left\">{element.doctor}</TableCell>\r\n              <TableCell align=\"right\">{element.hour}</TableCell>\r\n              <TableCell align=\"right\">{element.date}</TableCell>\r\n            </TableRow>\r\n            ))}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      </div>\r\n\r\n      <div className='newTurn'>\r\n      <TextField\r\n        value={hour}\r\n        onChange={e => setHour(e.target.value)}\r\n        id=\"time\"\r\n        label=\"Choose Schedule\"\r\n        type=\"time\"\r\n        defaultValue=\"12:00\"\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n        inputProps={{\r\n          step: 1800, // 5 min\r\n        }}\r\n        sx={{left: 22, width: 130 , mt:3 }}\r\n      />\r\n      <FormControl variant=\"standard\" sx={{ m: 3, minWidth: 130 }}>\r\n        <InputLabel id=\"demo-simple-select-standard-label\">Doctor</InputLabel>\r\n        <Select\r\n          labelId=\"demo-simple-select-standard-label\"\r\n          id=\"demo-simple-select-standard\"\r\n          value={doctorName}\r\n          onChange={handleChange}\r\n          label=\"Age\"\r\n        >\r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n          {doctor.map(doctorName => <MenuItem value={doctorName.firstName} onChange={e => setDoctorName(e.target.value)}>{doctorName.firstName}</MenuItem>)}\r\n  \r\n        </Select>\r\n      </FormControl>\r\n        <div>\r\n          <Stack  direction=\"row\" justifyContent=\"center\" alignItems=\"center\" spacing={2}> \r\n            <Button variant=\"contained\" onClick={handleOnSubmit}>Generate Shift</Button>\r\n          </Stack>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  )   \r\n}\r\n\r\nexport default RecordShift"]},"metadata":{},"sourceType":"module"}